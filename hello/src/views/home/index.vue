<template>
  <div :class="classObj" class="app-wrapper">
    <left-nav></left-nav>
    <navbar></navbar>

  </div>
</template>

<script>

import { mapState } from 'vuex'
import ResizeMixin from './mixin/ResizeHandler'
import LeftNav from '../../components/leftNav'
import Navbar from '../../components/Navbar'

export default {
  name: 'index',
  components: {Navbar, LeftNav},
  mixins: [ResizeMixin],
  data () {
    return {
      message: '{msg}',
      defaultProps: {
        children: 'children',
        label: 'label'
      },
      b: [],
      a: false,
      dialogVisible: false,
      treeData: [{
        label: '一级 1',
        children: [{
          label: '二级 1-1',
          children: [{
            label: '三级 1-1-1'
          }]
        }]
      }]

      // treeData: JSON.parse(JSON.stringify('{  "struct_0_MXdr::SXdr" : {"COMMON":{"SERVICE_ID":"53001","DR_TYPE":"7204","DEVICE_TYPE":0,"USER_TYPE":0,"IMEI":"460110876451896","IMSI":"460036671118456","ORI_USER_NUMBER":"18989455678","USER_NUMBER":"18989455678"      },"TOTAL_XDR":{"SUB_COMMON":{"FILE_OP_INFO":{"INPUT_FILE_NAME":"ps_18989455678_50.xdr.2","ORIGINAL_FILE":"CDRID_113","XDR_OUT_POSTFIX":""            },"CDR_UNIQUE_ID":"7393cbe6-995e-4507-81fe-c05b7accde8d","STD_ERR_CODE":0,"ROAM_TYPE":0,"LAC_ID":"","CELL_ID":"02231","CELL_CODE":"10000006","IN_CELL":1000,"VPLMN1":"571","VPLMN2":"","APP_TYPE":0,"RATING_FLAG":0,"TARIFF_CHANGE_TIME":"20190531143600","BILL_FLAG":0,"SERVICE_CODE":"0","UP_VOLUME":"1024","DOWN_VOLUME":"29325424","CHARGING_PROCESS_TIME":"20190603202118","START_TIME":"20190518140513","DURATION":"1024","PRODUCT_ID":"0","TIME_ADDUP":"0","CONTROL_TAG_FOR_MODULE":"68719476736","RESERVE3":"102","RESERVE5":"013e","RESERVE6":"1","RESERVE9":"0","RESERVE_FIELDS_size":0,"RESERVE_FIELDS":null,"BACKUP_DATE":9999,"ACTIVE_FLAG":9999,"PRODUCT_TIME":"20190601020000","USER_SERV_TYPE":0,"CDR_DEAL_FLAG":"00000000","MSC_ID":"8613344591","MAX_QUOTA":"0","MIN_QUOTA":"0","QUOTA_STEP":0,"QUOTA_MEASURE_ID":0,"ALARM_VALUE":"0","ALARM_CODE":0         },"GPRS_INFO":{"SGSN_ADDRESS":"115.169.125.170","RAC":"20190418140831","CHARGING_ID":"9","GGSN_ADDRESS":"115.169.126.130","APN_NI":"WLAN","PDP_TYPE":"03",            "string_7_PDP_ADDRESS" : "240e:470:105:c306:501c:e85a:d1e5:224f/64","CAUSE_CLOSE":16,"SGSN_PLMN":"460f11","LOCAL_REC_SEQ_NO":"1","GGSN_ID":"1","SGSN_ID":"8613344591","CT_CORRELATION_ID":"1609384593","SESSION_START_TIME":"20190418140513","SESSION_DURATION":198,"SERVICE_COND_CHANGE":128,"TARIFF_QCS_LIST_size":2,"TARIFF_QCS_LIST":[               {"QOS_QCI":9,"QOS_MRBUL":"0","QOS_MRBDL":"0","QOS_GRANT_BUL":"0","QOS_GRANT_BDL":"0","QOS_ARP":124               },               {               }            ]         },"RATING_RES_size":1,"RATING_RES":[            {"MEASURE_TYPE":2,"MEASURE_ID":6,"BEGIN_RES":"0","AMOUNT_RES":"28640"            }         ],"PROD_EVENT_LIST_size":1,"PROD_EVENT_LIST":[            {"EVENT_TYPE_ID":530009000,"PROD_ID":"10010001","PROD_INST_ID_LIST_size":1,"PROD_INST_ID_LIST":[ "671625684524" ]            }         ],"USER_INFO":{"PROD_ID":"10010001","SERV_ID":"671625684524","PAYMENT_MODE_ID":99,"REGION_ID":571,"LAN_ID":99,"USER_ATTR_LIST_size":0,"USER_ATTR_LIST":null,"STOP_TYPE":99,"STATE":1000,"ACCT_ID":"371060250072","ACCT_REGION_ID":571,"CUST_ID":"171053786346","CUST_REGION_ID":571,"CUST_TYPE":0,"CUST_SUB_TYPE":99,"CUST_AREA_GRADE":99,"BRAND_ID":99,"CUST_CLASS":99,"CUST_ATTR_LIST_size":0,"CUST_ATTR_LIST":null,"BIG_ACCT_FLAG":0,"PLAN_ID":"10030003","HPLMN1":"571","HPLMN2":"571","HPLMN3":"571"         },"USER_OFFER_LIST_size":5,"USER_OFFER_LIST":[            {"OBJECT_TYPE":1,"OFFER_INST_ID":"500120020","PRICING_PLAN_ID":"90016860","CUST_ID":"171053786346","OFFER_ID":"90305661","OFFER_TYPE":99,"REGION_ID":222,"LAN_ID":571,"STATUS":99,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"301000571","PRICING_PLAN_ID":"90314690","CUST_ID":"30100057","OFFER_ID":"90314690","OFFER_TYPE":11,"REGION_ID":571,"LAN_ID":99,"STATUS":1000,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"-1","PRICING_PLAN_ID":"30010001","CUST_ID":"-1","OFFER_ID":"60000001","REGION_ID":0,"LAN_ID":-1,"VALID_DATE":"20080109000000","EXPIRE_DATE":"20200109000000"            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"500120020","PRICING_PLAN_ID":"90016860","CUST_ID":"171053786346","OFFER_ID":"90305661","OFFER_TYPE":99,"REGION_ID":222,"LAN_ID":571,"STATUS":99,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"301000571","PRICING_PLAN_ID":"90314690","CUST_ID":"30100057","OFFER_ID":"90314690","OFFER_TYPE":11,"REGION_ID":571,"LAN_ID":99,"STATUS":1000,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            }         ],"OFFER_OBJ_REL_LIST_MAP_size":2,"OFFER_OBJ_REL_LIST_MAP":[            "30130012",            {"_Val_size":2,"_Val":[                  {"OFFER_INST_ID":"30130012","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":30021008,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  },                  {"OFFER_INST_ID":"30130012","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":30021008,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  }               ]            },            "500120020",            {"_Val_size":2,"_Val":[                  {"OFFER_INST_ID":"500120020","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":10021001,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  },                  {"OFFER_INST_ID":"500120020","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":10021001,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  }               ]            }         ],"PROD_LIST_MAP_size":1,"PROD_LIST_MAP":[            "671625684524",            {"_Val_size":2,"_Val":[                  {"PROD_INST_ID":"671625684524","PROD_ID":"10010001","SERV_ID":"671625684524","PROD_USE_TYPE":1000,"PAYMENT_MODE_ID":99,"OWNER_CUST_ID":"99","REGION_ID":571,"LAN_ID":99,"USER_TYPE":0,"SPEC_FLAG":0,"CREATE_DATE":"0","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","PROD_ATTR_LIST_size":0,"PROD_ATTR_LIST":null                  },                  {"PROD_INST_ID":"671625684524","PROD_ID":"10010001","SERV_ID":"671625684524","PROD_USE_TYPE":1000,"PAYMENT_MODE_ID":99,"OWNER_CUST_ID":"99","REGION_ID":571,"LAN_ID":99,"USER_TYPE":0,"SPEC_FLAG":0,"CREATE_DATE":"0","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","PROD_ATTR_LIST_size":0,"PROD_ATTR_LIST":null                  }               ]            }         ],"ACCT_BILL_CYCLE":{"ACCT_ID":"371060250072","CYCLE_UNIT":3,"UNIT_COUNT":1,"CYCLE_DURATION":1,"CYCLE_DURATION_DAYS":1,"CYCLE_BEGIN_DATE":20190501,"CYCLE_END_DATE":20190601,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"         },"EXEMPTION_LIST_size":0,"EXEMPTION_LIST":null,"ACCT_SPLIT_PAY_LIST_size":0,"ACCT_SPLIT_PAY_LIST":null,"PROD_ACCT_REL_LIST_size":1,"PROD_ACCT_REL_LIST":[            {"ACCT_ID":"371060250072","SERV_ID":"671625684524","ACCT_ITEM_GROUP_ID":"99","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"            }         ],"RATING_OUT":{"RATE_STRATEGY":0,"RATE_MODE":0,"PROCESS_TIME":"20190603202339","FREE_RES_LIST_size":2,"FREE_RES_LIST":[               {"ACCU_ID":"420026","RECORD_TYPE":1,"OFFER_INST_ID":"500120020","ACCU_TYPE_ID":80000100,"OBJ_TYPE":2,"OBJ_ID":"500120020","FREEZE_VALUE":"0","OTHER_SOURCE_VAL":"0","INIT_VAL":"512000","ACCU_VAL":"397440","FORWARD_CYCLE":0,"FORWARD_TIMES":0,"FORWARDED_FLAG":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               },               {"ACCU_ID":"420025","RECORD_TYPE":1,"OFFER_INST_ID":"500120020","ACCU_TYPE_ID":80000101,"OBJ_TYPE":2,"OBJ_ID":"500120020","FREEZE_VALUE":"0","OTHER_SOURCE_VAL":"0","INIT_VAL":"100","ACCU_VAL":"100","FORWARD_CYCLE":0,"FORWARD_TIMES":0,"FORWARDED_FLAG":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"CREATE_FREE_RES_LIST_size":0,"CREATE_FREE_RES_LIST":null,"ACCU_INFO_LIST_size":1,"ACCU_INFO_LIST":[               {"ACCU_ID":"390023","OFFER_INST_ID":"-1","ACCU_TYPE_ID":80000102,"OBJ_TYPE":2,"OBJ_ID":"-1","FREEZE_VALUE":"0","ACCU_VAL":"114560","VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"CHARGE_ACCT_INFO_LIST_size":0,"CHARGE_ACCT_INFO_LIST":null,"CHARGE_ACCU_INFO_LIST_size":1,"CHARGE_ACCU_INFO_LIST":[               {"TARIFF_ID":90006107,"OFFER_INST_ID":"500120020","OBJECT_TYPE":2,"OBJECT_ID":"500120020","ACCU_TYPE_ID":80000100,"ACCU_DIRE":2,"ACCU_VALUE":"512000","ACCU_START":"426080","ACCU_USING":"28640","ACCU_UNIT":6,"FORWARD_TIMES":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"FREERES_DISCOUNT_FEE":"840"         }      },"OCS_INFO":{"SESSION_ID":"1609384593"      },"DR_TYPE_DESC":"dr_ps"   }}'))
    }
  },
  created () {
    // this.processJson()
  },
  computed: {
    sidebar () {
      return this.$store.state.app.sidebar
    },
    cachedViews () {
      return this.$store.state.tagsView.cachedViews
    },
    key () {
      return this.$route.fullPath
    },
    ...mapState({
      sidebar: state => state.app.sidebar,
      // device: state => state.app.device,
      showSettings: state => state.settings.showSettings,
      needTagsView: state => state.settings.tagsView,
      fixedHeader: state => state.settings.fixedHeader
    }),
    classObj () {
      return {
        hideSidebar: !this.sidebar.opened,
        openSidebar: this.sidebar.opened,
        withoutAnimation: this.sidebar.withoutAnimation
        // mobile: this.device === 'mobile'
      }
    }
  },
  methods: {
    handleClose (done) {
      this.$confirm('确认关闭？')
        .then(_ => {
          done()
        })
        .catch(_ => {})
    },
    openDialog: function () {
      this.$alert('这是一段内容', '标题名称', {
        confirmButtonText: '确定',
        callback: action => {
          this.$message({
            type: 'info',
            message: `action: ${action}`
          })
        }
      })
    },
    processJson: function () {
      let jsonstr = '{  "struct_0_MXdr::SXdr" : {"COMMON":{"SERVICE_ID":"53001","DR_TYPE":"7204","DEVICE_TYPE":0,"USER_TYPE":0,"IMEI":"460110876451896","IMSI":"460036671118456","ORI_USER_NUMBER":"18989455678","USER_NUMBER":"18989455678"      },"TOTAL_XDR":{"SUB_COMMON":{"FILE_OP_INFO":{"INPUT_FILE_NAME":"ps_18989455678_50.xdr.2","ORIGINAL_FILE":"CDRID_113","XDR_OUT_POSTFIX":""            },"CDR_UNIQUE_ID":"7393cbe6-995e-4507-81fe-c05b7accde8d","STD_ERR_CODE":0,"ROAM_TYPE":0,"LAC_ID":"","CELL_ID":"02231","CELL_CODE":"10000006","IN_CELL":1000,"VPLMN1":"571","VPLMN2":"","APP_TYPE":0,"RATING_FLAG":0,"TARIFF_CHANGE_TIME":"20190531143600","BILL_FLAG":0,"SERVICE_CODE":"0","UP_VOLUME":"1024","DOWN_VOLUME":"29325424","CHARGING_PROCESS_TIME":"20190603202118","START_TIME":"20190518140513","DURATION":"1024","PRODUCT_ID":"0","TIME_ADDUP":"0","CONTROL_TAG_FOR_MODULE":"68719476736","RESERVE3":"102","RESERVE5":"013e","RESERVE6":"1","RESERVE9":"0","RESERVE_FIELDS_size":0,"RESERVE_FIELDS":null,"BACKUP_DATE":9999,"ACTIVE_FLAG":9999,"PRODUCT_TIME":"20190601020000","USER_SERV_TYPE":0,"CDR_DEAL_FLAG":"00000000","MSC_ID":"8613344591","MAX_QUOTA":"0","MIN_QUOTA":"0","QUOTA_STEP":0,"QUOTA_MEASURE_ID":0,"ALARM_VALUE":"0","ALARM_CODE":0         },"GPRS_INFO":{"SGSN_ADDRESS":"115.169.125.170","RAC":"20190418140831","CHARGING_ID":"9","GGSN_ADDRESS":"115.169.126.130","APN_NI":"WLAN","PDP_TYPE":"03",            "string_7_PDP_ADDRESS" : "240e:470:105:c306:501c:e85a:d1e5:224f/64","CAUSE_CLOSE":16,"SGSN_PLMN":"460f11","LOCAL_REC_SEQ_NO":"1","GGSN_ID":"1","SGSN_ID":"8613344591","CT_CORRELATION_ID":"1609384593","SESSION_START_TIME":"20190418140513","SESSION_DURATION":198,"SERVICE_COND_CHANGE":128,"TARIFF_QCS_LIST_size":2,"TARIFF_QCS_LIST":[               {"QOS_QCI":9,"QOS_MRBUL":"0","QOS_MRBDL":"0","QOS_GRANT_BUL":"0","QOS_GRANT_BDL":"0","QOS_ARP":124               },               {               }            ]         },"RATING_RES_size":1,"RATING_RES":[            {"MEASURE_TYPE":2,"MEASURE_ID":6,"BEGIN_RES":"0","AMOUNT_RES":"28640"            }         ],"PROD_EVENT_LIST_size":1,"PROD_EVENT_LIST":[            {"EVENT_TYPE_ID":530009000,"PROD_ID":"10010001","PROD_INST_ID_LIST_size":1,"PROD_INST_ID_LIST":[ "671625684524" ]            }         ],"USER_INFO":{"PROD_ID":"10010001","SERV_ID":"671625684524","PAYMENT_MODE_ID":99,"REGION_ID":571,"LAN_ID":99,"USER_ATTR_LIST_size":0,"USER_ATTR_LIST":null,"STOP_TYPE":99,"STATE":1000,"ACCT_ID":"371060250072","ACCT_REGION_ID":571,"CUST_ID":"171053786346","CUST_REGION_ID":571,"CUST_TYPE":0,"CUST_SUB_TYPE":99,"CUST_AREA_GRADE":99,"BRAND_ID":99,"CUST_CLASS":99,"CUST_ATTR_LIST_size":0,"CUST_ATTR_LIST":null,"BIG_ACCT_FLAG":0,"PLAN_ID":"10030003","HPLMN1":"571","HPLMN2":"571","HPLMN3":"571"         },"USER_OFFER_LIST_size":5,"USER_OFFER_LIST":[            {"OBJECT_TYPE":1,"OFFER_INST_ID":"500120020","PRICING_PLAN_ID":"90016860","CUST_ID":"171053786346","OFFER_ID":"90305661","OFFER_TYPE":99,"REGION_ID":222,"LAN_ID":571,"STATUS":99,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"301000571","PRICING_PLAN_ID":"90314690","CUST_ID":"30100057","OFFER_ID":"90314690","OFFER_TYPE":11,"REGION_ID":571,"LAN_ID":99,"STATUS":1000,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"-1","PRICING_PLAN_ID":"30010001","CUST_ID":"-1","OFFER_ID":"60000001","REGION_ID":0,"LAN_ID":-1,"VALID_DATE":"20080109000000","EXPIRE_DATE":"20200109000000"            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"500120020","PRICING_PLAN_ID":"90016860","CUST_ID":"171053786346","OFFER_ID":"90305661","OFFER_TYPE":99,"REGION_ID":222,"LAN_ID":571,"STATUS":99,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            },            {"OBJECT_TYPE":1,"OFFER_INST_ID":"301000571","PRICING_PLAN_ID":"90314690","CUST_ID":"30100057","OFFER_ID":"90314690","OFFER_TYPE":11,"REGION_ID":571,"LAN_ID":99,"STATUS":1000,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","OFFER_ATTR_LIST_size":0,"OFFER_ATTR_LIST":null            }         ],"OFFER_OBJ_REL_LIST_MAP_size":2,"OFFER_OBJ_REL_LIST_MAP":[            "30130012",            {"_Val_size":2,"_Val":[                  {"OFFER_INST_ID":"30130012","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":30021008,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  },                  {"OFFER_INST_ID":"30130012","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":30021008,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  }               ]            },            "500120020",            {"_Val_size":2,"_Val":[                  {"OFFER_INST_ID":"500120020","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":10021001,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  },                  {"OFFER_INST_ID":"500120020","OBJ_TYPE":100000,"OBJ_ID":"671625684524","ROLE_ID":10021001,"IS_GROUP_PROD":0,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"                  }               ]            }         ],"PROD_LIST_MAP_size":1,"PROD_LIST_MAP":[            "671625684524",            {"_Val_size":2,"_Val":[                  {"PROD_INST_ID":"671625684524","PROD_ID":"10010001","SERV_ID":"671625684524","PROD_USE_TYPE":1000,"PAYMENT_MODE_ID":99,"OWNER_CUST_ID":"99","REGION_ID":571,"LAN_ID":99,"USER_TYPE":0,"SPEC_FLAG":0,"CREATE_DATE":"0","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","PROD_ATTR_LIST_size":0,"PROD_ATTR_LIST":null                  },                  {"PROD_INST_ID":"671625684524","PROD_ID":"10010001","SERV_ID":"671625684524","PROD_USE_TYPE":1000,"PAYMENT_MODE_ID":99,"OWNER_CUST_ID":"99","REGION_ID":571,"LAN_ID":99,"USER_TYPE":0,"SPEC_FLAG":0,"CREATE_DATE":"0","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959","PROD_ATTR_LIST_size":0,"PROD_ATTR_LIST":null                  }               ]            }         ],"ACCT_BILL_CYCLE":{"ACCT_ID":"371060250072","CYCLE_UNIT":3,"UNIT_COUNT":1,"CYCLE_DURATION":1,"CYCLE_DURATION_DAYS":1,"CYCLE_BEGIN_DATE":20190501,"CYCLE_END_DATE":20190601,"VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"         },"EXEMPTION_LIST_size":0,"EXEMPTION_LIST":null,"ACCT_SPLIT_PAY_LIST_size":0,"ACCT_SPLIT_PAY_LIST":null,"PROD_ACCT_REL_LIST_size":1,"PROD_ACCT_REL_LIST":[            {"ACCT_ID":"371060250072","SERV_ID":"671625684524","ACCT_ITEM_GROUP_ID":"99","VALID_DATE":"20100109000000","EXPIRE_DATE":"20371231235959"            }         ],"RATING_OUT":{"RATE_STRATEGY":0,"RATE_MODE":0,"PROCESS_TIME":"20190603202339","FREE_RES_LIST_size":2,"FREE_RES_LIST":[               {"ACCU_ID":"420026","RECORD_TYPE":1,"OFFER_INST_ID":"500120020","ACCU_TYPE_ID":80000100,"OBJ_TYPE":2,"OBJ_ID":"500120020","FREEZE_VALUE":"0","OTHER_SOURCE_VAL":"0","INIT_VAL":"512000","ACCU_VAL":"397440","FORWARD_CYCLE":0,"FORWARD_TIMES":0,"FORWARDED_FLAG":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               },               {"ACCU_ID":"420025","RECORD_TYPE":1,"OFFER_INST_ID":"500120020","ACCU_TYPE_ID":80000101,"OBJ_TYPE":2,"OBJ_ID":"500120020","FREEZE_VALUE":"0","OTHER_SOURCE_VAL":"0","INIT_VAL":"100","ACCU_VAL":"100","FORWARD_CYCLE":0,"FORWARD_TIMES":0,"FORWARDED_FLAG":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"CREATE_FREE_RES_LIST_size":0,"CREATE_FREE_RES_LIST":null,"ACCU_INFO_LIST_size":1,"ACCU_INFO_LIST":[               {"ACCU_ID":"390023","OFFER_INST_ID":"-1","ACCU_TYPE_ID":80000102,"OBJ_TYPE":2,"OBJ_ID":"-1","FREEZE_VALUE":"0","ACCU_VAL":"114560","VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"CHARGE_ACCT_INFO_LIST_size":0,"CHARGE_ACCT_INFO_LIST":null,"CHARGE_ACCU_INFO_LIST_size":1,"CHARGE_ACCU_INFO_LIST":[               {"TARIFF_ID":90006107,"OFFER_INST_ID":"500120020","OBJECT_TYPE":2,"OBJECT_ID":"500120020","ACCU_TYPE_ID":80000100,"ACCU_DIRE":2,"ACCU_VALUE":"512000","ACCU_START":"426080","ACCU_USING":"28640","ACCU_UNIT":6,"FORWARD_TIMES":0,"VALID_DATE":"20190501000000","EXPIRE_DATE":"20190601000000"               }            ],"FREERES_DISCOUNT_FEE":"840"         }      },"OCS_INFO":{"SESSION_ID":"1609384593"      },"DR_TYPE_DESC":"dr_ps"   }}'
      let a = JSON.parse(jsonstr)
      this.treeData = []
      // this.treeData.children = []
      // this.treeData.children.push(a)
      this.b = a

      for (let i in a) {
        let b = {}
        b.label = i
        if (a[i].length === 0) {
          break
        } else {
          b.children = []
          b.children.push(a[i])
          this.treeData.push(b)
        }
        let result = {}
        let c = this.processSubJson(a, result)
        console.log(c)
      }
    },
    processSubJson: function (jsonObj, result) {
      for (let key in jsonObj) {
        let element = jsonObj[key]

        if (typeof (element) === 'object') {
          result.label = key
          result.children = {}
          this.processSubJson(element, result.children)
        } else { // 不是对象或数组、直接输出
          console.log('----eles -->  ' + key + ':' + element + ' ')
        }
      }
      return result
    }
  }
}
</script>

<style scoped lang="scss">
.app-wrapper{
  height: 100%;
  width: 100%;
  position: relative;
}

</style>
